
[asdfasdfsdf]: https://ru.wikipedia.org/wiki/Markdown

# agent

Разработать приложение, обеспечивающее прием и выполнение perl­скриптов из JMS­брокера.

## Задачи приложения

1. Прием JSON­сообщений из очереди JMS­брокера

2. Сохранение, компиляция, запуск текста сообщения, если тип сообщения - perl­скрипт

3. Запуск скрипта из локального каталога, если тип сообщения ­ имя скрипта

4. Отправка сообщения с выводом (out и err) perl­скрипта и кодом ошибки в очередь JMS­брокера

5. Два варианта запуска:

  a. полнофункциональный

  b. в качестве заглушки ­ perl­скрипты компилируются, но не запускаются

## Требования

1. Параллельный прием сообщений из нескольких очередей в отдельных потоках

2. Возможность принимать и передавать сообщения до 1Мб

3. Возможность остановить цикл приема сообщений извне (kill­сигналом, либо специальным сообщением в очереди)

4. Юнит­тесты для основных функций приложения

## Требования к технологиям

1. Запускаться должно на JVM, JDK 7

2. JMS­брокер ­ ActiveMQ

3. Формат сообщений ­ JSON

### Запуск агента (слушателя) 

    $ mvn -Pproducer exec:java

### Запуск издателя

    $ mvn -Pconsumer exec:java

### Сборка jar агента

В каталоге проекта выполнить команду 

    $ mvn -Pconsumer clean package
	
### Конфигурация агента

	spring-two/src/main/resources/META-INF/spring/consumer-jms-context.xml
где

	<jms:listener-container>

содержит названия очередей брокера, сообщения с которых он будет получать. 

Каждой очереди соответствует свой поток.
